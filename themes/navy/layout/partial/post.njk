<article class="article post" itemscope itemtype="http://schema.org/Article">
  <header class="article-header">
    {% if is_post() %}
      <h1 class="article-title" itemprop="name">{{ post.title }}</h1>
    {% else %}
      <h1>
        <a href="{{ url_for(post.path) }}" class="article-title" itemprop="name">{{ post.title }}</a>
      </h1>
    {% endif %}

    <!-- ✨ Meta 信息区：日期 / 分类 / 标签 -->
    <div class="article-meta">
      <span class="meta-item">
        <i class="fa fa-calendar"></i>
        {{ time_tag(post.date) }}
      </span>

      {% if post.categories and post.categories.length %}
        <span class="meta-item">
          <i class="fa fa-folder-open"></i>
          {% for category in post.categories.toArray() %}
            <a href="{{ url_for(category.path) }}">{{ category.name }}</a>
            {% if not loop.last %}, {% endif %}
          {% endfor %}
        </span>
      {% endif %}

      {% if post.tags and post.tags.length %}
        <span class="meta-item">
          <i class="fa fa-tags"></i>
          {% for tag in post.tags.toArray() %}
            <a href="{{ url_for(tag.path) }}">#{{ tag.name }}</a>
            {% if not loop.last %} {% endif %}
          {% endfor %}
        </span>
      {% endif %}
    </div>
  </header>

  <div class="article-content" itemprop="articleBody">
    {{ page_anchor(post.content) }}
  </div>

  {{ partial('partial/comment') }}
</article>
